<h1>Message Details</h1>

<p><strong>Author:</strong> <%= @message.user.email %></p>
<p><strong>Chat:</strong> Between <%= @message.chat.sender.email %> and <%= @message.chat.receiver.email %></p>
<p><strong>Content:</strong> <%= @message.body %></p>
<p><strong>Sent At:</strong> <%= @message.created_at %></p>

<div class="mt-4">
  <% if can? :edit, @message %>
    <%= link_to 'Edit', edit_message_path(@message), class: 'btn btn-primary' %>
  <% end %>
  
  <% if can? :destroy, @message %>
    <%= button_to 'Delete Message', message_path(@message), 
          method: :delete,
          form: { 
            class: 'd-inline',
            data: { 
              turbo_confirm: 'Are you sure you want to delete this message? This action cannot be undone.' 
            } 
          },
          class: 'btn btn-danger' %>
  <% end %>

  <%= link_to 'Back', messages_path, class: 'btn btn-secondary' %>
</div>